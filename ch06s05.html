<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>5. 嵌套循環</title><link rel="stylesheet" href="styles.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="start" href="index.html" title="Linux C編程一站式學習" /><link rel="up" href="ch06.html" title="第 6 章 循環語句" /><link rel="prev" href="ch06s04.html" title="4. break和continue語句" /><link rel="next" href="ch06s06.html" title="6. goto語句和標號" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">5. 嵌套循環</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch06s04.html">上一頁</a> </td><th width="60%" align="center">第 6 章 循環語句</th><td width="20%" align="right"> <a accesskey="n" href="ch06s06.html">下一頁</a></td></tr></table><hr /></div><div class="sect1" lang="zh-cn" xml:lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2727530"></a>5. 嵌套循環</h2></div></div></div><p>上一節求素數的例子在循環中調用一個函數，而那個函數里面又有一個循環，這其實是一種嵌套循環。如果把那個函數的代碼拿出來寫就更清楚了：</p><div class="example"><a id="id2727541"></a><p class="title"><b>例 6.2. 用嵌套循環求1-100的素數</b></p><div class="example-contents"><pre class="programlisting">#include &lt;stdio.h&gt;

int main(void)
{
	int i, j;
	for (i = 1; i &lt;= 100; i++) {
		for (j = 2; j &lt; i; j++)
			if (i % j == 0)
				break;
		if (j == i)
			printf("%d\n", i);
	}
	return 0;
}</pre></div></div><br class="example-break" /><p>現在內循環的循環變數就不能再用<code class="literal">i</code>了，而是改用<code class="literal">j</code>，原來程序中<code class="literal">is_prime</code>函數的參數<code class="literal">n</code>現在直接用<code class="literal">i</code>代替。在有多層循環或<code class="literal">switch</code>嵌套的情況下，<code class="literal">break</code>只能跳出最內層的循環或<code class="literal">switch</code>，<code class="literal">continue</code>也只能終止最內層循環並回到該循環的開頭。</p><p>用循環也可以打印表格式的數據，比如打印小九九乘法表：</p><div class="example"><a id="id2727617"></a><p class="title"><b>例 6.3. 打印小九九</b></p><div class="example-contents"><pre class="programlisting">#include &lt;stdio.h&gt;

int main(void)
{
	int i, j;
	for (i=1; i&lt;=9; i++) {
		for (j=1; j&lt;=9; j++)
			printf("%d  ", i*j);
		printf("\n");
	}
	return 0;
}</pre></div></div><br class="example-break" /><p>內循環每次打印一個數，數與數之間用兩個空格隔開，外循環每次打印一行。結果如下：</p><pre class="screen">1  2  3  4  5  6  7  8  9  
2  4  6  8  10  12  14  16  18  
3  6  9  12  15  18  21  24  27  
4  8  12  16  20  24  28  32  36  
5  10  15  20  25  30  35  40  45  
6  12  18  24  30  36  42  48  54  
7  14  21  28  35  42  49  56  63  
8  16  24  32  40  48  56  64  72  
9  18  27  36  45  54  63  72  81</pre><p>結果有一位數的有兩位數的，這個表格很不整齊，如果把打印語句改為<code class="literal">printf("%d\t", i*j);</code>就整齊了，所以Tab字元稱為製表符。</p><div class="simplesect" lang="zh-cn" xml:lang="zh-cn"><div class="titlepage"><div><div><h3 class="title"><a id="id2727653"></a>習題</h3></div></div></div><p>1、上面打印的小九九有一半數據是重複的，因為8*9和9*8的結果一樣。請修改程序打印這樣的小九九：</p><pre class="screen">1	
2	4	
3	6	9	
4	8	12	16	
5	10	15	20	25	
6	12	18	24	30	36	
7	14	21	28	35	42	49	
8	16	24	32	40	48	56	64	
9	18	27	36	45	54	63	72	81</pre><p>2、編寫函數<code class="literal">diamond</code>打印一個菱形。如果調用<code class="literal">diamond(3, '*')</code>則打印：</p><pre class="screen">	*
*	*	*
	*</pre><p>如果調用<code class="literal">diamond(5, '+')</code>則打印：</p><pre class="screen">		+
	+	+	+
+	+	+	+	+
	+	+	+
		+</pre><p>如果用偶數做參數則打印錯誤提示。</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch06s04.html">上一頁</a> </td><td width="20%" align="center"><a accesskey="u" href="ch06.html">上一級</a></td><td width="40%" align="right"> <a accesskey="n" href="ch06s06.html">下一頁</a></td></tr><tr><td width="40%" align="left" valign="top">4. break和continue語句 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始頁</a></td><td width="40%" align="right" valign="top"> 6. goto語句和標號</td></tr></table></div></body></html>
