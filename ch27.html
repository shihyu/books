<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>第 27 章 本階段總結</title><link rel="stylesheet" href="styles.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="start" href="index.html" title="Linux C編程一站式學習" /><link rel="up" href="pt02.html" title="部分 II. C語言本質" /><link rel="prev" href="ch26s03.html" title="3. 哈希表" /><link rel="next" href="pt03.html" title="部分 III. Linux系統編程" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 27 章 本階段總結</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch26s03.html">上一頁</a> </td><th width="60%" align="center">部分 II. C語言本質</th><td width="20%" align="right"> <a accesskey="n" href="pt03.html">下一頁</a></td></tr></table><hr /></div><div class="chapter" lang="zh-cn" xml:lang="zh-cn"><div class="titlepage"><div><div><h2 class="title"><a id="id2848940"></a>第 27 章 本階段總結</h2></div></div></div><p>在這一階段我們又學習了很多新的語法規則，首先讀者應該回到<a class="xref" href="ch13.html#summary1">第 13 章 <i>本階段總結</i></a>把那些知識點重新總結一遍。然後我們總結一下各種開發調試工具的用法。</p><p>1、gcc</p><div class="variablelist"><dl><dt><span class="term"><code class="literal">-c</code></span></dt><dd><p>編譯生成目標檔案（Relocatable），詳見<a class="xref" href="ch19s02.html#asmc.main">第 2 節 “<code class="literal">main</code>函數和啟動常式”</a>。</p></dd><dt><span class="term"><code class="literal">-Dmacro[=defn]</code></span></dt><dd><p>定義一個宏，詳見<a class="xref" href="ch21s03.html#prep.cond">第 3 節 “條件預處理指示”</a>。</p></dd><dt><span class="term"><code class="literal">-E</code></span></dt><dd><p>只做預處理而不編譯，<code class="literal">cpp</code>命令也可以達到同樣的效果，詳見<a class="xref" href="ch21s02.html#prep.funcmacro">第 2.1 節 “函數式宏定義”</a>。</p></dd><dt><span class="term"><code class="literal">-g</code></span></dt><dd><p>在生成的目標檔案中添加調試信息，所謂調試信息就是原始碼和指令之間的對應關係，在<code class="literal">gdb</code>調試和<code class="literal">objdump</code>反彙編時要用到這些信息，詳見<a class="xref" href="ch10s01.html#gdb.step">第 1 節 “單步執行和跟蹤函數調用”</a>。</p></dd><dt><span class="term"><code class="literal">-Idir</code></span></dt><dd><p><code class="literal">dir</code>是標頭檔所在的目錄，詳見<a class="xref" href="ch20s02.html#link.header">第 2.2 節 “標頭檔”</a>。</p></dd><dt><span class="term"><code class="literal">-Ldir</code></span></dt><dd><p><code class="literal">dir</code>是庫檔案所在的目錄，詳見<a class="xref" href="ch20s03.html#link.staticlib">第 3 節 “靜態庫”</a>。</p></dd><dt><span class="term"><code class="literal">-M</code>和<code class="literal">-MM</code></span></dt><dd><p>輸出“<span class="quote"><code class="literal">.o</code>檔案: <code class="literal">.c</code>檔案 <code class="literal">.h</code>檔案</span>”這種形式的Makefile規則，<code class="literal">-MM</code>的輸出不包括系統標頭檔，詳見<a class="xref" href="ch22s04.html#make.header">第 4 節 “自動處理標頭檔的依賴關係”</a>。</p></dd><dt><span class="term"><code class="literal">-o outfile</code></span></dt><dd><p><code class="literal">outfile</code>輸出檔案的檔案名，詳見<a class="xref" href="ch19s02.html#asmc.main">第 2 節 “<code class="literal">main</code>函數和啟動常式”</a>。</p></dd><dt><span class="term"><code class="literal">-O?</code></span></dt><dd><p>各種編譯優化選項，詳見<a class="xref" href="ch19s06.html#asmc.volatile">第 6 節 “volatile限定符”</a>。</p></dd><dt><span class="term"><code class="literal">-print-search-dirs</code></span></dt><dd><p>打印庫檔案的預設搜索路徑，詳見<a class="xref" href="ch20s03.html#link.staticlib">第 3 節 “靜態庫”</a>。</p></dd><dt><span class="term"><code class="literal">-S</code></span></dt><dd><p>編譯生成彙編代碼，詳見<a class="xref" href="ch19s02.html#asmc.main">第 2 節 “<code class="literal">main</code>函數和啟動常式”</a>。</p></dd><dt><span class="term"><code class="literal">-v</code></span></dt><dd><p>打印詳細的編譯連結過程，詳見<a class="xref" href="ch19s02.html#asmc.main">第 2 節 “<code class="literal">main</code>函數和啟動常式”</a>。</p></dd><dt><span class="term"><code class="literal">-Wall</code></span></dt><dd><p>打印所有的警告信息，詳見<a class="xref" href="intro.helloworld.html" title="4. 第一個程序">第 4 節 “第一個程序”</a>。</p></dd><dt><span class="term"><code class="literal">-Wl,options</code></span></dt><dd><p><code class="literal">options</code>是傳遞給連結器的選項，詳見<a class="xref" href="ch20s04.html#link.shared">第 4 節 “共享庫”</a>。</p></dd></dl></div><p>2、gdb</p><div class="orderedlist"><ol type="1"><li><p>在<a class="xref" href="ch10.html#gdb">第 10 章 <i>gdb</i></a>集中介紹了<code class="literal">gdb</code>的基本命令和調試方法。</p></li><li><p>在<a class="xref" href="ch19s01.html#asmc.funccall">第 1 節 “函數調用”</a>提到了<code class="literal">gdb</code>的指令級調試和反彙編命令。</p></li><li><p>如果一個程序由多個<code class="literal">.c</code>檔案編譯連結而成，用<code class="literal">gdb</code>調試時如何定位某個源檔案中的某一行代碼呢？在<a class="xref" href="ch20s01.html#link.basic">第 1 節 “多目標檔案的連結”</a>有介紹。</p></li><li><p>在<a class="xref" href="ch23s06.html#pointer.parray">第 6 節 “指向指針的指針與指針數組”</a>提到了用<code class="literal">gdb</code>調試時如何給程序提供命令行參數。</p></li></ol></div><p>3、其它開發調試工具</p><div class="orderedlist"><ol type="1"><li><p><code class="literal">as</code>，彙編器，用法詳見<a class="xref" href="ch18s01.html#asm.simpleasm">例 18.1 “最簡單的彙編程序”</a>。</p></li><li><p><code class="literal">ld</code>，連結器，用法詳見<a class="xref" href="ch18s01.html#asm.simpleasm">例 18.1 “最簡單的彙編程序”</a>，用<code class="literal">--verbose</code>選項可以顯示預設連結腳本，詳見<a class="xref" href="ch20s01.html#link.basic">第 1 節 “多目標檔案的連結”</a>。</p></li><li><p><code class="literal">readelf</code>，讀ELF檔案信息，用法詳見<a class="xref" href="ch18s05.html#asm.relocatable">第 5.1 節 “目標檔案”</a>。</p></li><li><p><code class="literal">objdump</code>，顯示目標檔案中的信息，本書主要用它做反彙編，用法詳見<a class="xref" href="ch18s05.html#asm.relocatable">第 5.1 節 “目標檔案”</a>。</p></li><li><p><code class="literal">hexdump</code>，以十六進制或ASCII碼顯示一個檔案，用法詳見<a class="xref" href="ch18s05.html#asm.relocatable">第 5.1 節 “目標檔案”</a>。</p></li><li><p><code class="literal">ar</code>，把目標檔案打包成靜態庫，用法詳見<a class="xref" href="ch20s03.html#link.staticlib">第 3 節 “靜態庫”</a>。</p></li><li><p><code class="literal">ranlib</code>，給<code class="literal">ar</code>打包的靜態庫建索引，用法詳見<a class="xref" href="ch20s03.html#link.staticlib">第 3 節 “靜態庫”</a>。</p></li><li><p><code class="literal">nm</code>，查看符號表，用法詳見<a class="xref" href="ch19s02.html#asmc.main">第 2 節 “<code class="literal">main</code>函數和啟動常式”</a>。</p></li></ol></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch26s03.html">上一頁</a> </td><td width="20%" align="center"><a accesskey="u" href="pt02.html">上一級</a></td><td width="40%" align="right"> <a accesskey="n" href="pt03.html">下一頁</a></td></tr><tr><td width="40%" align="left" valign="top">3. 哈希表 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始頁</a></td><td width="40%" align="right" valign="top"> 部分 III. Linux系統編程</td></tr></table></div></body></html>
