<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>6. 字元類型與字元編碼</title><link rel="stylesheet" href="styles.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="start" href="index.html" title="Linux C編程一站式學習" /><link rel="up" href="ch02.html" title="第 2 章 常量、變數和表達式" /><link rel="prev" href="expr.expression.html" title="5. 表達式" /><link rel="next" href="ch03.html" title="第 3 章 簡單函數" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">6. 字元類型與字元編碼</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="expr.expression.html">上一頁</a> </td><th width="60%" align="center">第 2 章 常量、變數和表達式</th><td width="20%" align="right"> <a accesskey="n" href="ch03.html">下一頁</a></td></tr></table><hr /></div><div class="sect1" lang="zh-cn" xml:lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2709590"></a>6. 字元類型與字元編碼</h2></div></div></div><p>字元常量或字元型變數也可以當作整數參與運算，例如：</p><pre class="programlisting">printf("%c\n", 'a'+1);</pre><p>執行結果是<code class="literal">b</code>。</p><p>我們知道，符號在計算機內部也用數字表示，每個字元在計算機內部用一個整數表示，稱為字元編碼（Character Encoding）<a id="id2709621" class="indexterm"></a>，目前最常用的是ASCII碼（American Standard Code for Information Interchange，美國信息交換標準碼）<a id="id2709630" class="indexterm"></a>，詳見<a class="xref" href="apas01.html#app-encoding.ascii">圖 A.1 “ASCII碼表”</a>。表中每一欄的最後一列是字元，前三列分別是用十進制（Dec）、十六進制（Hx）和八進制（Oct）表示的字元編碼，各種進制之間的換算將在<a class="xref" href="ch14s02.html#number.convert">第 2 節 “不同進制之間的換算”</a>介紹。從十進制那一列可以看出ASCII碼的取值範圍是0~127。表中的很多字元是不可見字元（Non-printable Character）<a id="id2709654" class="indexterm"></a>或空白字元（Whitespace）<a id="id2709660" class="indexterm"></a><sup>[<a id="id2709665" href="#ftn.id2709665" class="footnote">3</a>]</sup>，不能像字母a這樣把字元本身填在表中，而是用一個名字來描述該字元，例如CR(carriage return)、LF(NL line feed，newline)、DEL等等。作為練習，請讀者查一查<a class="xref" href="ch02s01.html#expr.escapeseq">表 2.1 “C標準規定的轉義字元”</a>中的字元在ASCII碼表中的什麼位置。</p><p>回到剛纔的例子，在ASCII碼中字元<code class="literal">a</code>是97，字元<code class="literal">b</code>是98。計算<code class="literal">'a'+1</code>這個表達式，應該按ASCII碼把<code class="literal">'a'</code>當作整數值97，然後加1，得到98，然後<code class="literal">printf</code>把98這個整數值當作ASCII碼來解釋，打印出相應的字元<code class="literal">b</code>。</p><p>之前我們說“<span class="quote">整型</span>”是指<code class="literal">int</code>型，而現在我們知道<code class="literal">char</code>型本質上就是整數，只不過取值範圍比<code class="literal">int</code>型小，所以<span class="emphasis"><em>以後我們把<code class="literal">char</code>型和<code class="literal">int</code>型統稱為整數類型（Integer Type）<a id="id2709760" class="indexterm"></a>或簡稱整型</em></span>，以後我們還要學習幾種類型也屬於整型，將在<a class="xref" href="ch15s01.html#type.integertype">第 1 節 “整型”</a>詳細介紹。</p><p>字元<code class="literal">'a'</code>~<code class="literal">'z'</code>、<code class="literal">'A'</code>~<code class="literal">'Z'</code>、<code class="literal">'0'</code>~<code class="literal">'9'</code>的ASCII碼都是連續的，因此表達式<code class="literal">'a'+25</code>和<code class="literal">'z'</code>的值相等，<code class="literal">'0'+9</code>和<code class="literal">'9'</code>的值也相等。注意<code class="literal">'0'</code>~<code class="literal">'9'</code>的ASCII碼是十六進制的30~39，和整數值0~9是不相等的。</p><p>字元也可以用ASCII碼轉義序列表示，這種轉義序列由\加上1~3個八進制數字組成，或者由<code class="literal">\x</code>或大寫<code class="literal">\X</code>加上1~2個十六進制數字組成，可以用在字元常量或字元串字面值中。例如<code class="literal">'\0'</code>表示NUL字元（Null Character）<a id="id2709863" class="indexterm"></a>，<code class="literal">'\11'</code>或<code class="literal">'\x9'</code>表示Tab字元，<code class="literal">"\11"</code>或<code class="literal">"\x9"</code>表示由Tab字元組成的字元串。注意<code class="literal">'0'</code>的ASCII碼是48，而<code class="literal">'\0'</code>的ASCII碼是0，兩者是不同的。</p><div class="footnotes"><br /><hr width="100" align="left" /><div class="footnote"><p><sup>[<a id="ftn.id2709665" href="#id2709665" class="para">3</a>] </sup>空白字元在不同的上下文中有不同的含義，在C語言中空白字元定義為空格、水平Tab、垂直Tab、換行和分頁符，本書在使用“<span class="quote">空白字元</span>”這個詞時會明確說明在當前上下文中空白字元指的是哪些字元。</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="expr.expression.html">上一頁</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">上一級</a></td><td width="40%" align="right"> <a accesskey="n" href="ch03.html">下一頁</a></td></tr><tr><td width="40%" align="left" valign="top">5. 表達式 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始頁</a></td><td width="40%" align="right" valign="top"> 第 3 章 簡單函數</td></tr></table></div></body></html>
