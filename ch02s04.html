<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>4. 賦值</title><link rel="stylesheet" href="styles.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="start" href="index.html" title="Linux C編程一站式學習" /><link rel="up" href="ch02.html" title="第 2 章 常量、變數和表達式" /><link rel="prev" href="expr.variable.html" title="3. 變數" /><link rel="next" href="expr.expression.html" title="5. 表達式" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4. 賦值</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="expr.variable.html">上一頁</a> </td><th width="60%" align="center">第 2 章 常量、變數和表達式</th><td width="20%" align="right"> <a accesskey="n" href="expr.expression.html">下一頁</a></td></tr></table><hr /></div><div class="sect1" lang="zh-cn" xml:lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2708536"></a>4. 賦值</h2></div></div></div><p>定義了變數之後，我們要把值存到它們所表示的存儲空間裡，可以用賦值（Assignment）<a id="id2708544" class="indexterm"></a>語句實現：</p><pre class="programlisting">char firstletter;
int hour, minute;
firstletter = 'a';   /* give firstletter the value 'a' */
hour = 11;           /* assign the value 11 to hour */
minute = 59;         /* set minute to 59 */</pre><p>注意變數一定要先聲明後使用，編譯器必須先看到變數聲明，才知道<code class="literal">firstletter</code>、<code class="literal">hour</code>和<code class="literal">minute</code>是變數名，各自代表一塊存儲空間。另外，變數聲明中的類型表明這個變數代表多大的一塊存儲空間，這樣編譯器才知道如何讀寫這塊存儲空間。還要注意，這裡的等號不表示數學裡的相等關係，和1+1=2的等號是不同的，這裡的等號表示賦值。在數學上不會有<code class="literal">i=i+1</code>這種等式成立，而在C語言中表示把變數<code class="literal">i</code>的存儲空間中的值取出來，再加上1，得到的結果再存回<code class="literal">i</code>的存儲空間中。再比如，在數學上<code class="literal">a=7</code>和<code class="literal">7=a</code>是一樣的，而在C語言中後者是不合法的。總結一下：定義一個變數，就是分配一塊存儲空間並給它命名；給一個變數賦值，就是把一個值保存到這塊存儲空間中。變數的定義和賦值也可以一步完成，這稱為變數的初始化（Initialization）<a id="id2707008" class="indexterm"></a>，例如要達到上面代碼的效果也可以這樣寫：</p><pre class="programlisting">char firstletter = 'a';
int hour = 11, minute = 59;</pre><p>在初始化語句中，等號右邊的值叫做Initializer<a id="id2707025" class="indexterm"></a>，例如上面的<code class="literal">'a'</code>、11和59。注意，<span class="emphasis"><em>初始化是一種特殊的聲明，而不是一種賦值語句</em></span>。就目前來看，先定義一個變數再給它賦值和定義這個變數的同時給它初始化所達到的效果是一樣的，C語言的很多語法規則既適用於賦值也適用於初始化，但在以後的學習中你也會瞭解到它們之間的不同，請在學習過程中注意總結賦值和初始化的相同和不同之處。</p><p>如果在紙上“<span class="quote">跑</span>”一個程序（每個初學編程的人都要練這項基本功），可以用一個框表示變數的存儲空間，在框的外邊標上變數名，在框裡記上它的值，如下圖所示。</p><div class="figure"><a id="id2707065"></a><p class="title"><b>圖 2.1. 在紙上表示變數</b></p><div class="figure-contents"><div><img src="images/expr.variable.png" alt="在紙上表示變數" /></div></div></div><br class="figure-break" /><p>你可以用不同形狀的框表示不同類型的變數，這樣可以提醒你給變數賦的值必須符合它的類型。如果所賦的值和變數的類型不符會導致編譯器報警告或報錯（這是一種語義錯誤），例如：</p><pre class="programlisting">int hour, minute;
hour = "Hello.";       /* WRONG ! */
minute = "59";         /* WRONG !! */</pre><p>注意第3個語句，把<code class="literal">"59"</code>賦給<code class="literal">minute</code>看起來像是對的，但是類型不對，字元串不能賦給整型變數。</p><p>既然可以為變數的存儲空間賦值，就應該可以把值取出來用，現在我們取出這些變數的值用<code class="literal">printf</code>打印：</p><pre class="programlisting">printf("Current time is %d:%d", hour, minute);</pre><p>變數名用在等號左邊表示賦值，而用在<code class="literal">printf</code>中表示把它的存儲空間中的值取出來替換在那裡。不同類型的變數所占的存儲空間大小是不同的，數據表示方式也不同，變數的最小存儲單位是位元組（Byte）<a id="id2708898" class="indexterm"></a>，在C語言中<code class="literal">char</code>型變數占一個位元組，其它類型的變數占多少位元組在不同平台上有不同的規定，將在<a class="xref" href="ch15.html#type">第 15 章 <i>數據類型詳解</i></a>詳細討論。</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="expr.variable.html">上一頁</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">上一級</a></td><td width="40%" align="right"> <a accesskey="n" href="expr.expression.html">下一頁</a></td></tr><tr><td width="40%" align="left" valign="top">3. 變數 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始頁</a></td><td width="40%" align="right" valign="top"> 5. 表達式</td></tr></table></div></body></html>
