<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>3. 變數</title><link rel="stylesheet" href="styles.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="start" href="index.html" title="Linux C編程一站式學習" /><link rel="up" href="ch02.html" title="第 2 章 常量、變數和表達式" /><link rel="prev" href="ch02s02.html" title="2. 常量" /><link rel="next" href="ch02s04.html" title="4. 賦值" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3. 變數</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s02.html">上一頁</a> </td><th width="60%" align="center">第 2 章 常量、變數和表達式</th><td width="20%" align="right"> <a accesskey="n" href="ch02s04.html">下一頁</a></td></tr></table><hr /></div><div class="sect1" lang="zh-cn" xml:lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="expr.variable"></a>3. 變數</h2></div></div></div><p>變數（Variable）<a id="id2708148" class="indexterm"></a>是編程語言最重要的概念之一，變數是計算機存儲器中的一塊命名的空間，可以在裡面存儲一個值（Value）<a id="id2708157" class="indexterm"></a>，存儲的值是可以隨時變的，比如這次存個字元<code class="literal">'a'</code>下次存個字元<code class="literal">'b'</code>，正因為變數的值可以隨時變所以才叫變數。</p><p>常量有不同的類型，因此變數也有不同的類型，變數的類型也決定了它所占的存儲空間的大小。例如以下四個語句定義了四個變數<code class="literal">fred</code>、<code class="literal">bob</code>、<code class="literal">jimmy</code>和<code class="literal">tom</code>，它們的類型分別是字元型、整型、浮點型：</p><pre class="programlisting">char fred;
int bob;
float jimmy;
double tom;</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">聲明和定義</h3><p>C語言中的聲明（Declaration）<a id="id2708221" class="indexterm"></a>有變數聲明、函數聲明和類型聲明三種。如果一個變數或函數的聲明要求編譯器為它分配存儲空間，那麼也可以稱為定義（Definition）<a id="id2708230" class="indexterm"></a>，因此定義是聲明的一種。在接下來幾章的示例代碼中變數聲明都是要分配存儲空間的，因而都是定義，等學到<a class="xref" href="ch20s02.html#link.defdecl">第 2 節 “定義和聲明”</a>我們會看到哪些變數聲明不分配存儲空間因而不是定義。在下一章我們會看到函數的定義和聲明也是這樣區分的，分配存儲空間的函數聲明可以稱為函數定義。從<a class="xref" href="ch07.html#struct">第 7 章 <i>結構體</i></a>開始我們會看到類型聲明，聲明一個類型是不分配存儲空間的，但似乎叫“<span class="quote">類型定義</span>”聽起來也不錯，所以在本書中“<span class="quote">類型定義</span>”和“<span class="quote">類型聲明</span>”表示相同的含義。聲明和語句類似，也是以;號結尾的，但是在語法上聲明和語句是有區別的，語句只能出現在{}括號中，而聲明既可以出現在{}中也可以出現在所有{}之外。</p></div><p>浮點型有三種，<code class="literal">float</code>是單精度浮點型，<code class="literal">double</code>是雙精度浮點型，<code class="literal">long double</code>是精度更高的浮點型。它們之間的區別和轉換規則將在<a class="xref" href="ch15.html#type">第 15 章 <i>數據類型詳解</i></a>詳細介紹，在隨後的幾章中我們只使用<code class="literal">double</code>類型，上一節介紹的常量3.14應該看作<code class="literal">double</code>類型的常量，<code class="literal">printf</code>的<code class="literal">%f</code>也應該看作<code class="literal">double</code>型的轉換說明。給變數起名不能太隨意，上面四個變數的名字就不夠好，我們猜不出這些變數是用來存什麼的。而像下面這樣起名就很好：</p><pre class="programlisting">char firstletter;
char lastletter;
int hour, minute;</pre><p>我們可以猜得到這些變數是用來存什麼的，前兩個變數的取值範圍應該是<code class="literal">'A'</code>~<code class="literal">'Z'</code>或<code class="literal">'a'</code>~<code class="literal">'z'</code>，變數<code class="literal">hour</code>的取值範圍應該是0~23，變數<code class="literal">minute</code>的取值範圍應該是0~59，所以應該給變數起有意義的名字。從這個例子中我們也看到兩個相同類型的變數（<code class="literal">hour</code>和<code class="literal">minute</code>）可以一起聲明。</p><p>給變數起名有一定的限制，C語言規定必須以字母或下劃線_（Underscore）<a id="id2708385" class="indexterm"></a>開頭，後面可以跟若干個字母、數字、下劃線，但不能有其它字元。例如這些是合法的變數名：<code class="literal">Abc</code>、<code class="literal">__abc__</code>、<code class="literal">_123</code>。但這些是不合法的變數名：<code class="literal">3abc</code>、<code class="literal">ab$</code>。其實這個規則不僅適用於變數名，也適用於所有可以由程序員起名的語法元素，例如以後要講的函數名、宏定義、結構體成員名等，在C語言中這些統稱為標識符（Identifier）<a id="id2708425" class="indexterm"></a>。</p><p>另外要注意，表示類型的<code class="literal">char</code>、<code class="literal">int</code>、<code class="literal">float</code>、<code class="literal">double</code>等雖然符合上述規則，但也不能用作標識符。在C語言中有些單詞有特殊意義，不允許用作標識符，這些單詞稱為關鍵字（Keyword）<a id="id2708459" class="indexterm"></a>或保留字（Reserved Word）<a id="id2708469" class="indexterm"></a>。通常用於編程的文本編輯器都會高亮顯示（Highlight）<a id="id2708480" class="indexterm"></a>這些關鍵字，所以只要小心一點通常不會誤用作標識符。C99規定的關鍵字有：</p><div class="literallayout"><p>auto  break  case  char  const  continue  default  do  double<br />
else  enum  extern  float  for  goto  if  inline  int  long<br />
register  restrict  return  short  signed  sizeof  static  struct  switch  typedef<br />
union  unsigned  void  volatile  while  _Bool  _Complex  _Imaginary</p></div><p>還有一點要注意，<span class="emphasis"><em>一般來說應避免使用以下劃線開頭的標識符</em></span>，以下劃線開頭的標識符只要不和C語言關鍵字衝突的都是合法的，但是往往被編譯器用作一些功能擴展，C標準庫也定義了很多以下劃線開頭的標識符，所以除非你對編譯器和C標準庫特別清楚，一般應避免使用這種標識符，以免造成命名衝突。</p><p>請記住：<span class="emphasis"><em>理解一個概念不是把定義背下來就行了，一定要理解它的外延和內涵，也就是什麼情況屬於這個概念，什麼情況不屬於這個概念，什麼情況雖然屬於這個概念但一般推薦的做法（Best Practice）<a id="id2708527" class="indexterm"></a>是要儘量避免這種情況，這才算是真正理解了。</em></span></p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s02.html">上一頁</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">上一級</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s04.html">下一頁</a></td></tr><tr><td width="40%" align="left" valign="top">2. 常量 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始頁</a></td><td width="40%" align="right" valign="top"> 4. 賦值</td></tr></table></div></body></html>
