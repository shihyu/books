<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>2. 浮點型</title><link rel="stylesheet" href="styles.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="start" href="index.html" title="Linux C編程一站式學習" /><link rel="up" href="ch15.html" title="第 15 章 數據類型詳解" /><link rel="prev" href="ch15s01.html" title="1. 整型" /><link rel="next" href="ch15s03.html" title="3. 類型轉換" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. 浮點型</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch15s01.html">上一頁</a> </td><th width="60%" align="center">第 15 章 數據類型詳解</th><td width="20%" align="right"> <a accesskey="n" href="ch15s03.html">下一頁</a></td></tr></table><hr /></div><div class="sect1" lang="zh-cn" xml:lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2757747"></a>2. 浮點型</h2></div></div></div><p>C標準規定的浮點型有<code class="literal">float</code>、<code class="literal">double</code>、<code class="literal">long double</code>，和整型一樣，既沒有規定每種類型占多少位元組，也沒有規定採用哪種表示形式。浮點數的實現在各種平台上差異很大，有的處理器有浮點運算單元（FPU，Floating Point Unit）<a id="id2757776" class="indexterm"></a>，稱為硬浮點（Hard-float）<a id="id2757784" class="indexterm"></a>實現；有的處理器沒有浮點運算單元，只能做整數運算，需要用整數運算來模擬浮點運算，稱為軟浮點（Soft-float）<a id="id2757794" class="indexterm"></a>實現。大部分平台的浮點數實現遵循IEEE 754，<code class="literal">float</code>型通常是32位，<code class="literal">double</code>型通常是64位。</p><p><code class="literal">long double</code>型通常是比<code class="literal">double</code>型精度更高的類型，但各平台的實現有較大差異。在x86平台上，大多數編譯器實現的<code class="literal">long double</code>型是80位，因為x86的浮點運算單元具有80位精度，<code class="literal">gcc</code>實現的<code class="literal">long double</code>型是12位元組（96位），這是為了對齊到4位元組邊界（在<a class="xref" href="ch19s04.html#asmc.structunion">第 4 節 “結構體和聯合體”</a>詳細討論對齊的問題），也有些編譯器實現的<code class="literal">long double</code>型和<code class="literal">double</code>型精度相同，沒有充分利用x86浮點運算單元的精度。其它體繫結構的浮點運算單元的精度不同，編譯器實現也會不同，例如PowerPC上的<code class="literal">long double</code>型通常是128位。</p><p>以前我們只用到最簡單的浮點數常量，例如3.14，現在看看浮點數常量還有哪些寫法。由於浮點數在計算機中的表示是基于科學計數法的，所以浮點數常量也可以寫成科學計數法的形式，尾數和指數之間用e或E隔開，例如314e-2表示314×10<sup>-2</sup>，注意這種表示形式基數是10<sup>[<a id="id2757890" href="#ftn.id2757890" class="footnote">27</a>]</sup>，如果尾數的小數點左邊或右邊沒有數字則表示這一部分為零，例如3.e-1，.987等等。浮點數也可以加一個尾碼，例如3.14f、.01L，浮點數的尾碼和類型之間的對應關係比較簡單，沒有尾碼的浮點數常量是<code class="literal">double</code>型的，有尾碼f或F的浮點數常量是<code class="literal">float</code>型的，有尾碼l或L的浮點數常量是<code class="literal">long double</code>型的。</p><div class="footnotes"><br /><hr width="100" align="left" /><div class="footnote"><p><sup>[<a id="ftn.id2757890" href="#id2757890" class="para">27</a>] </sup>C99引入一種新的十六進制浮點數表示，基數是2，本書不做詳細介紹。</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch15s01.html">上一頁</a> </td><td width="20%" align="center"><a accesskey="u" href="ch15.html">上一級</a></td><td width="40%" align="right"> <a accesskey="n" href="ch15s03.html">下一頁</a></td></tr><tr><td width="40%" align="left" valign="top">1. 整型 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始頁</a></td><td width="40%" align="right" valign="top"> 3. 類型轉換</td></tr></table></div></body></html>
